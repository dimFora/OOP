<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OOP</title>
</head>
<body>
<script>
    "use strict";

    let createUser = function (name) {
        let _name = name;

        return {
            name: _name,

            _getGreetingWord() {
                return ((new Date).getHours() < 10)? "Good morning" : "Hello";
            },

            sayHello() {
                let text = `${this._getGreetingWord()}! I am ${_name}`;
                alert( text );
            },

            setIsSaidHello(flag) {
                this.isSaidHello = flag;
            }
        }
    };

    let user1 = createUser('Vasya');
    let user2 = createUser('Misha');

    user1.sayHello();
    user2.sayHello();

    let  admin = {
        adminName: "Root",

        helloUser (user = {name: '$'}) {
            if (Array.isArray(user)) {
                user.forEach(user => {
                    this.helloUser(user);
                });
            } else {
                user.setIsSaidHello(true);
                alert( `Hello, ${user.name}. I am ${this.adminName}` );
            }
        }
    };

    admin.helloUser(user1);
    admin.helloUser(user2);
    admin.helloUser( [user1, user2] );
   // admin.helloUser();

    alert( user1.isSaidHello );
    alert( user2.isSaidHello );

</script>
</body>
</html>